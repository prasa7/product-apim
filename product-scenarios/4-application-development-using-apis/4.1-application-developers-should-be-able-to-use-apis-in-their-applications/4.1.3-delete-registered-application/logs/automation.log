2020-05-12 22:50:31,260 WARN  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Deployment property file not found: null/deployment.properties
2020-05-12 22:50:31,265 WARN  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Deployment property file not found: null/deployment.properties
2020-05-12 22:50:32,016 INFO  [org.wso2.am.integration.test.utils.clients.APIStoreRestClient] - Login to Store https://localhost:9443/store as the user deleteAppSubscriber
2020-05-12 22:50:32,197 WARN  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Deployment property file not found: null/deployment.properties
2020-05-12 22:50:32,197 INFO  [org.wso2.am.scenario.test.common.APIPublisherRestClient] - Login to Publisher https://localhost:9443/publisher as the user deleteAppCreatorPublisher
2020-05-12 22:50:32,294 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,294 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : "APPROVED"}
2020-05-12 22:50:32,318 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,318 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false}
2020-05-12 22:50:32,339 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response code : 200
2020-05-12 22:50:32,339 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response message : {"error" : false, "applications" : [{"name" : "DefaultApplication", "tier" : "Unlimited", "id" : 40, "status" : "APPROVED", "description" : null, "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}]}
2020-05-12 22:50:32,365 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,365 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : "APPROVED"}
2020-05-12 22:50:32,462 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,462 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "data" : {"key" : {"tokenScope" : ["am_application_scope", "default"], "consumerSecret" : "672EisD6SI5EljdLhhojHvdLsZQa", "validityTime" : 360000, "tokenDetails" : "{\"scopes\":\"[am_application_scope, default]\",\"tokenState\":null}", "keyState" : "APPROVED", "appDetails" : "{\"tokenScope\":\"[default]\",\"validityPeriod\":\"360000\",\"callback_url\":\"some-url\",\"key_type\":\"PRODUCTION\",\"grant_types\":\"refresh_token urn:ietf:params:oauth:grant-type:saml2-bearer implicit password client_credentials iwa:ntlm authorization_code urn:ietf:params:oauth:grant-type:jwt-bearer\",\"redirect_uris\":\"some-url\",\"client_name\":\"deleteAppSubscriber_AppDelete__PRODUCTION\",\"username\":\"deleteAppSubscriber\"}", "consumerKey" : "UgTQIFxSuCfetGLNbZQcPh4Sttca", "accessToken" : "d9c24202-1c7a-3185-b3a4-c3def17c8ce2", "enableRegenarate" : true}}}
2020-05-12 22:50:32,543 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,543 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "data" : {"key" : {"tokenScope" : ["am_application_scope", "default"], "consumerSecret" : "bbrs3fVNzZoA2lOan_hZ0SFMyXsa", "validityTime" : 360000, "tokenDetails" : "{\"scopes\":\"[am_application_scope, default]\",\"tokenState\":null}", "keyState" : "APPROVED", "appDetails" : "{\"tokenScope\":\"[default]\",\"validityPeriod\":\"360000\",\"callback_url\":\"some-url\",\"key_type\":\"SANDBOX\",\"grant_types\":\"refresh_token urn:ietf:params:oauth:grant-type:saml2-bearer implicit password client_credentials iwa:ntlm authorization_code urn:ietf:params:oauth:grant-type:jwt-bearer\",\"redirect_uris\":\"some-url\",\"client_name\":\"deleteAppSubscriber_AppDelete__SANDBOX\",\"username\":\"deleteAppSubscriber\"}", "consumerKey" : "Ma7gtUKcbH7920ldgTon_fiDZ08a", "accessToken" : "5f4ae1a3-fc14-3e64-a967-99b9c285a3c9", "enableRegenarate" : true}}}
2020-05-12 22:50:32,577 INFO  [org.wso2.am.integration.test.utils.clients.APIStoreRestClient] - Login to Store https://localhost:9443/store as the user deleteAppSubscriber1
2020-05-12 22:50:32,630 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,630 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : "APPROVED"}
2020-05-12 22:50:32,630 INFO  [org.wso2.am.integration.test.utils.clients.APIStoreRestClient] - Login to Store https://localhost:9443/store as the user deleteAppSubscriber2
2020-05-12 22:50:32,684 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationNegativeTestCase] - Delete unowned application Response Code : 200
2020-05-12 22:50:32,684 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationNegativeTestCase] - Delete unowned application Response Message : {"error" : true, "message" : "Error occurred while executing the action removeApplication"}
2020-05-12 22:50:32,684 INFO  [org.wso2.am.integration.test.utils.clients.APIStoreRestClient] - Login to Store https://localhost:9443/store as the user deleteAppSubscriber1
2020-05-12 22:50:32,748 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationNegativeTestCase] - Verify owner's application still exists in store response code : 200
2020-05-12 22:50:32,749 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationNegativeTestCase] - Verify owner's application still exists in store response message : {"error" : false, "applications" : [{"name" : "DefaultApplication", "tier" : "Unlimited", "id" : 43, "status" : "APPROVED", "description" : null, "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber1", "tokenType" : "DEFAULT"}, {"name" : "DeleteUnownedApplication", "tier" : "Unlimited", "id" : 44, "status" : "APPROVED", "description" : "Description", "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber1", "tokenType" : "DEFAULT"}]}
2020-05-12 22:50:32,750 INFO  [org.wso2.am.integration.test.utils.clients.APIStoreRestClient] - Login to Store https://localhost:9443/store as the user deleteAppSubscriber2
2020-05-12 22:50:32,802 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,802 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : "APPROVED"}
2020-05-12 22:50:32,817 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,817 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false}
2020-05-12 22:50:32,833 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationNegativeTestCase] - Verify application does not exist in store response code : 200
2020-05-12 22:50:32,833 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationNegativeTestCase] - Verify application does not exist in store response message : {"error" : false, "applications" : [{"name" : "DefaultApplication", "tier" : "Unlimited", "id" : 45, "status" : "APPROVED", "description" : null, "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber2", "tokenType" : "DEFAULT"}]}
2020-05-12 22:50:32,833 INFO  [org.wso2.am.integration.test.utils.clients.APIStoreRestClient] - Login to Store https://localhost:9443/store as the user deleteAppSubscriber1
2020-05-12 22:50:32,880 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationNegativeTestCase] - Verify application still exists in store response code : 200
2020-05-12 22:50:32,880 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationNegativeTestCase] - Verify application still exists in store response message : {"error" : false, "applications" : [{"name" : "DefaultApplication", "tier" : "Unlimited", "id" : 43, "status" : "APPROVED", "description" : null, "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber1", "tokenType" : "DEFAULT"}, {"name" : "DeleteUnownedApplication", "tier" : "Unlimited", "id" : 44, "status" : "APPROVED", "description" : "Description", "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber1", "tokenType" : "DEFAULT"}]}
2020-05-12 22:50:32,880 INFO  [org.wso2.am.integration.test.utils.clients.APIStoreRestClient] - Login to Store https://localhost:9443/store as the user deleteAppSubscriber1
2020-05-12 22:50:32,992 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:32,992 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : "APPROVED"}
2020-05-12 22:50:33,337 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:33,337 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false}
2020-05-12 22:50:33,359 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:33,359 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "api" : {"name" : "AppDeleteAPI_WithSubs", "version" : "1.0.0", "description" : "", "endpoint" : "", "wsdl" : "", "tags" : "", "availableTiers" : "Gold", "status" : "CREATED", "thumb" : null, "context" : "/AppDeleteAPI_WithSubs/1.0.0", "lastUpdated" : "1589304033301", "subs" : 0, "templates" : [["/find", "POST", "Any", "null"]], "sandbox" : "", "tierDescs" : "Allows 5000 requests per minute", "bizOwner" : "", "bizOwnerMail" : "", "techOwner" : "", "techOwnerMail" : "", "wadl" : "", "visibility" : "public", "roles" : "", "tenants" : "", "epUsername" : "", "epPassword" : "", "endpointTypeSecured" : "false", "provider" : "deleteAppCreatorPublisher", "transport_http" : "checked", "transport_https" : "checked", "apiStores" : null, "inSequence" : "", "outSequence" : "", "subscriptionAvailability" : "", "subscriptionTenants" : "", "endpointConfig" : "{\"endpoint_type\":\"http\",\"production_endpoints\":{\"config\":null,\"url\":\"http://ws.cdyne.com/phoneverify/phoneverify.asmx\"}}", "responseCache" : "Disabled", "cacheTimeout" : "300", "availableTiersDisplayNames" : "Gold", "faultSequence" : "", "destinationStats" : null, "resources" : "[{\"url_pattern\":\"\\/find\",\"http_verbs\":{\"POST\":{\"auth_type\":\"Any\",\"throttling_tier\":\"null\"}}}]", "scopes" : "[]", "isDefaultVersion" : "false", "implementation" : "ENDPOINT", "environments" : "Production and Sandbox", "productionTps" : "", "sandboxTps" : "", "endpointAuthTypeDigest" : "false", "corsConfiguration" : "{\"corsConfigurationEnabled\":false,\"accessControlAllowOrigins\":[\"*\"],\"accessControlAllowCredentials\":false,\"accessControlAllowHeaders\":[\"authorization\",\"Access-Control-Allow-Origin\",\"Content-Type\",\"SOAPAction\"],\"accessControlAllowMethods\":[\"GET\",\"PUT\",\"POST\",\"DELETE\",\"PATCH\",\"OPTIONS\"]}", "hasDefaultVersion" : false, "currentDefaultVersion" : null, "availableSubscriptionPolicy" : "", "apiLevelPolicy" : "", "type" : "HTTP", "accessControl" : "all", "accessControlRoles" : "", "additionalProperties" : "{}", "authorizationHeader" : "", "gatewayLabels" : null}}
2020-05-12 22:50:34,614 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - API publish response code: 200
2020-05-12 22:50:34,614 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - API publish response data: {"error" : false, "lcs" : [{"username" : "deleteAppCreatorPublisher", "newStatus" : "CREATED", "oldStatus" : "", "date" : "1589304033194"}, {"username" : "deleteAppCreatorPublisher", "newStatus" : "PUBLISHED", "oldStatus" : "CREATED", "date" : "1589304034613"}], "wfstatus" : null, "status" : {"workflowResponse" : {"jsonPayload" : ""}, "stateChangeStatus" : null}}
2020-05-12 22:50:34,614 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - WAIT for availability of API: AppDeleteAPI_WithSubs
2020-05-12 22:50:34,637 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - API found in store : AppDeleteAPI_WithSubs
2020-05-12 22:50:34,637 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - {"error" : false, "apis" : [{"name" : "ne", "provider" : "admin", "version" : "3.3.3", "context" : "/adsasda/3.3.3", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "admin", "isAdvertiseOnly" : false, "rates" : 0.0}, {"name" : "AppDeleteAPI_WithSubs", "provider" : "deleteAppCreatorPublisher", "version" : "1.0.0", "context" : "/AppDeleteAPI_WithSubs/1.0.0", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "deleteAppCreatorPublisher", "isAdvertiseOnly" : false, "rates" : 0.0}]}
2020-05-12 22:50:34,637 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,638 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "apis" : [{"name" : "ne", "provider" : "admin", "version" : "3.3.3", "context" : "/adsasda/3.3.3", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "admin", "isAdvertiseOnly" : false, "rates" : 0.0}, {"name" : "AppDeleteAPI_WithSubs", "provider" : "deleteAppCreatorPublisher", "version" : "1.0.0", "context" : "/AppDeleteAPI_WithSubs/1.0.0", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "deleteAppCreatorPublisher", "isAdvertiseOnly" : false, "rates" : 0.0}]}
2020-05-12 22:50:34,659 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,659 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : {"subscriptionStatus" : "UNBLOCKED", "subscriptionUUID" : "7fea6970-b844-4567-8041-281251540238", "workflowResponse" : {"jsonPayload" : ""}}}
2020-05-12 22:50:34,676 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,676 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false}
2020-05-12 22:50:34,691 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response code : 200
2020-05-12 22:50:34,691 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response message : {"error" : false, "applications" : [{"name" : "AppDelete_", "tier" : "Unlimited", "id" : 42, "status" : "APPROVED", "description" : "ApplicationDescription", "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}, {"name" : "DefaultApplication", "tier" : "Unlimited", "id" : 40, "status" : "APPROVED", "description" : null, "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}]}
2020-05-12 22:50:34,706 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,706 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "api" : {"name" : "AppDeleteAPI_WithSubs", "version" : "1.0.0", "description" : "", "endpoint" : "", "wsdl" : "", "tags" : "", "availableTiers" : "Gold", "status" : "PUBLISHED", "thumb" : null, "context" : "/AppDeleteAPI_WithSubs/1.0.0", "lastUpdated" : "1589304034608", "subs" : 0, "templates" : [["/find", "POST", "Any", "null"]], "sandbox" : "", "tierDescs" : "Allows 5000 requests per minute", "bizOwner" : "", "bizOwnerMail" : "", "techOwner" : "", "techOwnerMail" : "", "wadl" : "", "visibility" : "public", "roles" : "", "tenants" : "", "epUsername" : "", "epPassword" : "", "endpointTypeSecured" : "false", "provider" : "deleteAppCreatorPublisher", "transport_http" : "checked", "transport_https" : "checked", "apiStores" : null, "inSequence" : "", "outSequence" : "", "subscriptionAvailability" : "", "subscriptionTenants" : "", "endpointConfig" : "{\"endpoint_type\":\"http\",\"production_endpoints\":{\"config\":null,\"url\":\"http://ws.cdyne.com/phoneverify/phoneverify.asmx\"}}", "responseCache" : "Disabled", "cacheTimeout" : "300", "availableTiersDisplayNames" : "Gold", "faultSequence" : "", "destinationStats" : null, "resources" : "[{\"url_pattern\":\"\\/find\",\"http_verbs\":{\"POST\":{\"auth_type\":\"Any\",\"throttling_tier\":\"null\"}}}]", "scopes" : "[]", "isDefaultVersion" : "false", "implementation" : "ENDPOINT", "environments" : "Production and Sandbox", "productionTps" : "", "sandboxTps" : "", "endpointAuthTypeDigest" : "false", "corsConfiguration" : "{\"corsConfigurationEnabled\":false,\"accessControlAllowOrigins\":[\"*\"],\"accessControlAllowCredentials\":false,\"accessControlAllowHeaders\":[\"authorization\",\"Access-Control-Allow-Origin\",\"Content-Type\",\"SOAPAction\"],\"accessControlAllowMethods\":[\"GET\",\"PUT\",\"POST\",\"DELETE\",\"PATCH\",\"OPTIONS\"]}", "hasDefaultVersion" : false, "currentDefaultVersion" : null, "availableSubscriptionPolicy" : "", "apiLevelPolicy" : "", "type" : "HTTP", "accessControl" : "all", "accessControlRoles" : "", "additionalProperties" : "{}", "authorizationHeader" : "", "gatewayLabels" : null}}
2020-05-12 22:50:34,727 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,727 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : "APPROVED"}
2020-05-12 22:50:34,793 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,793 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "data" : {"key" : {"tokenScope" : ["am_application_scope", "default"], "consumerSecret" : "VqiluhGYXSktbljvWI_GZUIV188a", "validityTime" : 360000, "tokenDetails" : "{\"scopes\":\"[am_application_scope, default]\",\"tokenState\":null}", "keyState" : "APPROVED", "appDetails" : "{\"tokenScope\":\"[default]\",\"validityPeriod\":\"360000\",\"callback_url\":\"some-url\",\"key_type\":\"PRODUCTION\",\"grant_types\":\"refresh_token urn:ietf:params:oauth:grant-type:saml2-bearer implicit password client_credentials iwa:ntlm authorization_code urn:ietf:params:oauth:grant-type:jwt-bearer\",\"redirect_uris\":\"some-url\",\"client_name\":\"deleteAppSubscriber_AppDelete_KeyGenPRODUCTION_PRODUCTION\",\"username\":\"deleteAppSubscriber\"}", "consumerKey" : "7oGjkRTZyq5nBTJADESQkSW90qka", "accessToken" : "1f64c368-b45a-3c51-85b1-a1f4f563d80a", "enableRegenarate" : true}}}
2020-05-12 22:50:34,826 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,826 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false}
2020-05-12 22:50:34,843 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response code : 200
2020-05-12 22:50:34,843 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response message : {"error" : false, "applications" : [{"name" : "AppDelete_", "tier" : "Unlimited", "id" : 42, "status" : "APPROVED", "description" : "ApplicationDescription", "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}, {"name" : "DefaultApplication", "tier" : "Unlimited", "id" : 40, "status" : "APPROVED", "description" : null, "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}]}
2020-05-12 22:50:34,861 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,861 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : "APPROVED"}
2020-05-12 22:50:34,926 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,926 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "data" : {"key" : {"tokenScope" : ["am_application_scope", "default"], "consumerSecret" : "qtfylT8IhUsUMYezCaT_BVPSeOca", "validityTime" : 360000, "tokenDetails" : "{\"scopes\":\"[am_application_scope, default]\",\"tokenState\":null}", "keyState" : "APPROVED", "appDetails" : "{\"tokenScope\":\"[default]\",\"validityPeriod\":\"360000\",\"callback_url\":\"some-url\",\"key_type\":\"SANDBOX\",\"grant_types\":\"refresh_token urn:ietf:params:oauth:grant-type:saml2-bearer implicit password client_credentials iwa:ntlm authorization_code urn:ietf:params:oauth:grant-type:jwt-bearer\",\"redirect_uris\":\"some-url\",\"client_name\":\"deleteAppSubscriber_AppDelete_KeyGenSANDBOX_SANDBOX\",\"username\":\"deleteAppSubscriber\"}", "consumerKey" : "WXmj3o6pTqQSEPuijvfKaIUQ8lAa", "accessToken" : "5a813a56-2001-3851-9fe3-8fd18ff1d2bf", "enableRegenarate" : true}}}
2020-05-12 22:50:34,961 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,962 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false}
2020-05-12 22:50:34,981 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response code : 200
2020-05-12 22:50:34,981 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response message : {"error" : false, "applications" : [{"name" : "AppDelete_", "tier" : "Unlimited", "id" : 42, "status" : "APPROVED", "description" : "ApplicationDescription", "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}, {"name" : "DefaultApplication", "tier" : "Unlimited", "id" : 40, "status" : "APPROVED", "description" : null, "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}]}
2020-05-12 22:50:34,999 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:34,999 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : "APPROVED"}
2020-05-12 22:50:35,343 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:35,343 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false}
2020-05-12 22:50:35,360 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:35,360 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "api" : {"name" : "AppDeleteAPI_WithSubsKeyGen", "version" : "1.0.0", "description" : "", "endpoint" : "", "wsdl" : "", "tags" : "", "availableTiers" : "Gold", "status" : "CREATED", "thumb" : null, "context" : "/AppDeleteAPI_WithSubsKeyGen/1.0.0", "lastUpdated" : "1589304035283", "subs" : 0, "templates" : [["/find", "POST", "Any", "null"]], "sandbox" : "", "tierDescs" : "Allows 5000 requests per minute", "bizOwner" : "", "bizOwnerMail" : "", "techOwner" : "", "techOwnerMail" : "", "wadl" : "", "visibility" : "public", "roles" : "", "tenants" : "", "epUsername" : "", "epPassword" : "", "endpointTypeSecured" : "false", "provider" : "deleteAppCreatorPublisher", "transport_http" : "checked", "transport_https" : "checked", "apiStores" : null, "inSequence" : "", "outSequence" : "", "subscriptionAvailability" : "", "subscriptionTenants" : "", "endpointConfig" : "{\"endpoint_type\":\"http\",\"production_endpoints\":{\"config\":null,\"url\":\"http://ws.cdyne.com/phoneverify/phoneverify.asmx\"}}", "responseCache" : "Disabled", "cacheTimeout" : "300", "availableTiersDisplayNames" : "Gold", "faultSequence" : "", "destinationStats" : null, "resources" : "[{\"url_pattern\":\"\\/find\",\"http_verbs\":{\"POST\":{\"auth_type\":\"Any\",\"throttling_tier\":\"null\"}}}]", "scopes" : "[]", "isDefaultVersion" : "false", "implementation" : "ENDPOINT", "environments" : "Production and Sandbox", "productionTps" : "", "sandboxTps" : "", "endpointAuthTypeDigest" : "false", "corsConfiguration" : "{\"corsConfigurationEnabled\":false,\"accessControlAllowOrigins\":[\"*\"],\"accessControlAllowCredentials\":false,\"accessControlAllowHeaders\":[\"authorization\",\"Access-Control-Allow-Origin\",\"Content-Type\",\"SOAPAction\"],\"accessControlAllowMethods\":[\"GET\",\"PUT\",\"POST\",\"DELETE\",\"PATCH\",\"OPTIONS\"]}", "hasDefaultVersion" : false, "currentDefaultVersion" : null, "availableSubscriptionPolicy" : "", "apiLevelPolicy" : "", "type" : "HTTP", "accessControl" : "all", "accessControlRoles" : "", "additionalProperties" : "{}", "authorizationHeader" : "", "gatewayLabels" : null}}
2020-05-12 22:50:36,553 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - API publish response code: 200
2020-05-12 22:50:36,553 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - API publish response data: {"error" : false, "lcs" : [{"username" : "deleteAppCreatorPublisher", "newStatus" : "CREATED", "oldStatus" : "", "date" : "1589304035180"}, {"username" : "deleteAppCreatorPublisher", "newStatus" : "PUBLISHED", "oldStatus" : "CREATED", "date" : "1589304036552"}], "wfstatus" : null, "status" : {"workflowResponse" : {"jsonPayload" : ""}, "stateChangeStatus" : null}}
2020-05-12 22:50:36,553 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - WAIT for availability of API: AppDeleteAPI_WithSubsKeyGen
2020-05-12 22:50:36,573 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - API found in store : AppDeleteAPI_WithSubsKeyGen
2020-05-12 22:50:36,573 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - {"error" : false, "apis" : [{"name" : "ne", "provider" : "admin", "version" : "3.3.3", "context" : "/adsasda/3.3.3", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "admin", "isAdvertiseOnly" : false, "rates" : 0.0}, {"name" : "AppDeleteAPI_WithSubs", "provider" : "deleteAppCreatorPublisher", "version" : "1.0.0", "context" : "/AppDeleteAPI_WithSubs/1.0.0", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "deleteAppCreatorPublisher", "isAdvertiseOnly" : false, "rates" : 0.0}, {"name" : "AppDeleteAPI_WithSubsKeyGen", "provider" : "deleteAppCreatorPublisher", "version" : "1.0.0", "context" : "/AppDeleteAPI_WithSubsKeyGen/1.0.0", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "deleteAppCreatorPublisher", "isAdvertiseOnly" : false, "rates" : 0.0}]}
2020-05-12 22:50:36,573 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:36,573 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "apis" : [{"name" : "ne", "provider" : "admin", "version" : "3.3.3", "context" : "/adsasda/3.3.3", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "admin", "isAdvertiseOnly" : false, "rates" : 0.0}, {"name" : "AppDeleteAPI_WithSubs", "provider" : "deleteAppCreatorPublisher", "version" : "1.0.0", "context" : "/AppDeleteAPI_WithSubs/1.0.0", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "deleteAppCreatorPublisher", "isAdvertiseOnly" : false, "rates" : 0.0}, {"name" : "AppDeleteAPI_WithSubsKeyGen", "provider" : "deleteAppCreatorPublisher", "version" : "1.0.0", "context" : "/AppDeleteAPI_WithSubsKeyGen/1.0.0", "status" : "Deployed", "thumbnailurl" : "images/api-default.png", "visibility" : "public", "visibleRoles" : null, "description" : null, "apiOwner" : "deleteAppCreatorPublisher", "isAdvertiseOnly" : false, "rates" : 0.0}]}
2020-05-12 22:50:36,593 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:36,593 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "status" : {"subscriptionStatus" : "UNBLOCKED", "subscriptionUUID" : "9aa8df3e-125f-4233-821b-9712bf5c9b6a", "workflowResponse" : {"jsonPayload" : ""}}}
2020-05-12 22:50:36,664 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:36,664 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "data" : {"key" : {"tokenScope" : ["am_application_scope", "default"], "consumerSecret" : "ZHviE4nrO_Gzk7zKODGAfwffD1Ua", "validityTime" : 360000, "tokenDetails" : "{\"scopes\":\"[am_application_scope, default]\",\"tokenState\":null}", "keyState" : "APPROVED", "appDetails" : "{\"tokenScope\":\"[default]\",\"validityPeriod\":\"360000\",\"callback_url\":\"some-url\",\"key_type\":\"PRODUCTION\",\"grant_types\":\"refresh_token urn:ietf:params:oauth:grant-type:saml2-bearer implicit password client_credentials iwa:ntlm authorization_code urn:ietf:params:oauth:grant-type:jwt-bearer\",\"redirect_uris\":\"some-url\",\"client_name\":\"deleteAppSubscriber_AppDeleteAPI_WithSubsKeyGen_PRODUCTION\",\"username\":\"deleteAppSubscriber\"}", "consumerKey" : "0NqcLid_k5odIdsDrfAqiqHVOhYa", "accessToken" : "8e73c46e-bd36-3674-8aa8-ffedbc060fe0", "enableRegenarate" : true}}}
2020-05-12 22:50:36,740 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:36,740 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "data" : {"key" : {"tokenScope" : ["am_application_scope", "default"], "consumerSecret" : "ZDQSf4FCOMF0vERVMlXxV7n1GOAa", "validityTime" : 360000, "tokenDetails" : "{\"scopes\":\"[am_application_scope, default]\",\"tokenState\":null}", "keyState" : "APPROVED", "appDetails" : "{\"tokenScope\":\"[default]\",\"validityPeriod\":\"360000\",\"callback_url\":\"some-url\",\"key_type\":\"SANDBOX\",\"grant_types\":\"refresh_token urn:ietf:params:oauth:grant-type:saml2-bearer implicit password client_credentials iwa:ntlm authorization_code urn:ietf:params:oauth:grant-type:jwt-bearer\",\"redirect_uris\":\"some-url\",\"client_name\":\"deleteAppSubscriber_AppDeleteAPI_WithSubsKeyGen_SANDBOX\",\"username\":\"deleteAppSubscriber\"}", "consumerKey" : "O49A1Pg69IjL6JswHnsNQfMgqq8a", "accessToken" : "c3551866-64bf-38d8-9e29-153ae4c5fbeb", "enableRegenarate" : true}}}
2020-05-12 22:50:36,786 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:36,786 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false}
2020-05-12 22:50:36,800 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response code : 200
2020-05-12 22:50:36,800 INFO  [org.wso2.am.scenario.tests.delete.registered.application.DeleteRegisteredApplicationTestCase] - Verify application does not exist in store response message : {"error" : false, "applications" : [{"name" : "AppDelete_", "tier" : "Unlimited", "id" : 42, "status" : "APPROVED", "description" : "ApplicationDescription", "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}, {"name" : "DefaultApplication", "tier" : "Unlimited", "id" : 40, "status" : "APPROVED", "description" : null, "apiCount" : 0, "groupId" : "", "isBlacklisted" : false, "owner" : "deleteAppSubscriber", "tokenType" : "DEFAULT"}]}
2020-05-12 22:50:36,816 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Code : 200
2020-05-12 22:50:36,817 INFO  [org.wso2.am.scenario.test.common.ScenarioTestBase] - Response Message : {"error" : false, "api" : {"name" : "AppDeleteAPI_WithSubsKeyGen", "version" : "1.0.0", "description" : "", "endpoint" : "", "wsdl" : "", "tags" : "", "availableTiers" : "Gold", "status" : "PUBLISHED", "thumb" : null, "context" : "/AppDeleteAPI_WithSubsKeyGen/1.0.0", "lastUpdated" : "1589304036548", "subs" : 0, "templates" : [["/find", "POST", "Any", "null"]], "sandbox" : "", "tierDescs" : "Allows 5000 requests per minute", "bizOwner" : "", "bizOwnerMail" : "", "techOwner" : "", "techOwnerMail" : "", "wadl" : "", "visibility" : "public", "roles" : "", "tenants" : "", "epUsername" : "", "epPassword" : "", "endpointTypeSecured" : "false", "provider" : "deleteAppCreatorPublisher", "transport_http" : "checked", "transport_https" : "checked", "apiStores" : null, "inSequence" : "", "outSequence" : "", "subscriptionAvailability" : "", "subscriptionTenants" : "", "endpointConfig" : "{\"endpoint_type\":\"http\",\"production_endpoints\":{\"config\":null,\"url\":\"http://ws.cdyne.com/phoneverify/phoneverify.asmx\"}}", "responseCache" : "Disabled", "cacheTimeout" : "300", "availableTiersDisplayNames" : "Gold", "faultSequence" : "", "destinationStats" : null, "resources" : "[{\"url_pattern\":\"\\/find\",\"http_verbs\":{\"POST\":{\"auth_type\":\"Any\",\"throttling_tier\":\"null\"}}}]", "scopes" : "[]", "isDefaultVersion" : "false", "implementation" : "ENDPOINT", "environments" : "Production and Sandbox", "productionTps" : "", "sandboxTps" : "", "endpointAuthTypeDigest" : "false", "corsConfiguration" : "{\"corsConfigurationEnabled\":false,\"accessControlAllowOrigins\":[\"*\"],\"accessControlAllowCredentials\":false,\"accessControlAllowHeaders\":[\"authorization\",\"Access-Control-Allow-Origin\",\"Content-Type\",\"SOAPAction\"],\"accessControlAllowMethods\":[\"GET\",\"PUT\",\"POST\",\"DELETE\",\"PATCH\",\"OPTIONS\"]}", "hasDefaultVersion" : false, "currentDefaultVersion" : null, "availableSubscriptionPolicy" : "", "apiLevelPolicy" : "", "type" : "HTTP", "accessControl" : "all", "accessControlRoles" : "", "additionalProperties" : "{}", "authorizationHeader" : "", "gatewayLabels" : null}}
